
<section class="main-news ">
    <div class="main-container">
        <div class="main-container-body clearfix">
            <div class="news-hot">
                <h4>新闻动态</h4>
                <p>&nbsp&nbsp&nbsp&nbsp使用数人云管理的CentOS/RHEL主机暂不兼容1.10.1版本Docker，Ubuntu等其他操作系统主机不受影响。
                    为了保障您的集群稳定，CentOS/RHEL用户请使用1.9版本Docker环境，在业务运行性能上没有任何差别。此兼容性问题将在下周产品更新时解决，给您带来了不便还请谅解。<a data-ng-if="!IS_OFF_FLAG" ng-cloak
                            href="https://raw.githubusercontent.com/Dataman-Cloud/agent-installer/master/install-docker.sh" target="_blank">1.9版本Docker安装脚本</a></p>
            </div>
            <div class="news-list" data-ng-if="!IS_OFF_FLAG" ng-cloak>
                <ul>
                    <li><a href="http://open.shurenyun.com/article/10" target="_blank">Mesos Meetup 第三期干货PPT下载</a></li>
                    <li><a href="http://open.shurenyun.com/article/8" target="_blank">永洪BI也能在数人云上跳舞</a></li>
                    <li><a href="http://open.shurenyun.com/article/7" target="_blank">微软容器未来的安全版本</a></li>
                    <li><a href="http://open.shurenyun.com/article/6" target="_blank">没有主机？用笔记本一样玩转数人云</a></li>
                </ul>
            </div>
            <div class="news-more" data-ng-if="!IS_OFF_FLAG" ng-cloak>
                <a href="http://open.shurenyun.com/" class="btn btn-success" target="_blank">数人之家 <span class="glyphicon glyphicon-arrow-right   "></span></a>
            </div>
        </div>
    </div>
</section>
<section class="dashboard">
    <div class="main-container" ng-repeat="(clusterId, cluster) in clusterList track by clusterId">
        <div class="main-container-body clearfix">
            <h2>
                <a href="#" data-ui-sref="cluster.clusterdetails.nodes({clusterId:clusterId})">{/cluster.name/}</a>
            </h2>
            <div class="dashboard-left">
                <div class="dashboard-cluster">
                    <div class="disable-cover" 
                        data-ng-if="!(statusMgr.nodeStatusCount[clusterId].running + 
                            statusMgr.nodeStatusCount[clusterId].failed + 
                            statusMgr.nodeStatusCount[clusterId].installing + 
                            statusMgr.nodeStatusCount[clusterId].upgrading)">
                    </div>
                    <div>
                        <piechart chart-used="cluster.masMetrics.cpuPercent" chart-total="100" radius="[50, 65]"
                              use-color="#68d1f2" show-text="CPU占用" text-color="#68d1f2" error-code="errorCode">
                        </piechart>
                        <div class="cluster-piechart-num" ng-show="cluster.masMetrics.cpuTotal"><em>{/cluster.masMetrics.cpuShare.toFixed(2)/}</em> / {/cluster.masMetrics.cpuTotal/}</div>
                    </div>
                    <div>
                        <piechart chart-used="cluster.masMetrics.memUsed" chart-total="cluster.masMetrics.memTotal" radius="[50, 65]"
                              use-color="#ff9494" show-text="内存占用" text-color="#ff9494" error-code="errorCode">
                        </piechart>
                        <div class="cluster-piechart-num" ng-show="cluster.masMetrics.memTotal"><em>{/cluster.masMetrics.memUsed/}</em> / {/cluster.masMetrics.memTotal | currency: '' :0/} MB</div>
                    </div>
                </div>



                <div>
                    <ul class="cluster-service-status-number">
                        <li class="running">
                          <a>正常主机 <span>{/statusMgr.nodeStatusCount[clusterId].running || 0/}</span></a>
                        </li>
                        <li class="terminated">
                          <a>失联主机 <span>{/statusMgr.nodeStatusCount[clusterId].terminated || 0/}</span></a>
                        </li>
                        <li class="installing">
                          <a>维护中主机 <span>{/(statusMgr.nodeStatusCount[clusterId].installing+statusMgr.nodeStatusCount[clusterId].upgrading+statusMgr.nodeStatusCount[clusterId].initing+statusMgr.nodeStatusCount[clusterId].repairing) || 0/}</span></a>
                        </li>
                        <li class="failed">
                          <a>异常主机 <span>{/statusMgr.nodeStatusCount[clusterId].failed || 0/}</span>&nbsp;&nbsp;
                             报警主机 <span>{/statusMgr.nodeStatusCount[clusterId].abnormal || 0/}</span>
                          </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="dashboard-right">

                <div class="dashboard-app">
                    <div class="disable-cover" 
                        data-ng-if="!(statusMgr.nodeStatusCount[clusterId].running + 
                            statusMgr.nodeStatusCount[clusterId].failed + 
                            statusMgr.nodeStatusCount[clusterId].installing + 
                            statusMgr.nodeStatusCount[clusterId].upgrading)">
                    </div>
                   <div ng-repeat="appMon in cluster.appMonitors" class="app-info">
                        <h5>{/appMon.appName/}</h5>
                        <piechart chart-used="appMon.appCpuUsed" chart-total="appMon.appCpuShare" radius="[45, 55]"
                                    use-color="#68d1f2" show-text="CPU使用" text-color="#68d1f2" error-code="errorCode"
                                  status="appMon.status">
                        </piechart>
                        <piechart chart-used="appMon.appMemUsed" chart-total="appMon.appMemShare" radius="[45, 55]"
                                    use-color="#ff9494" show-text="内存使用" text-color="#ff9494" error-code="errorCode"
                                  status="appMon.status">
                        </piechart>
                   </div>
                </div>
            </div>
        </div>
    </div>
</section>