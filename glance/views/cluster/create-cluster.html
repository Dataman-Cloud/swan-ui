<div class="page-header">
  <h1 class="pull-left" >集群管理</h1>
</div>
<ol class="breadcrumb">
  <li>
  <a data-ui-sref="cluster.listclusters">集群管理</a>
  </li>
  <li>新建集群</li>
</ol>

<section class="create-cluster">
<div class="main-container">
  <div class="main-container-body">
    <form name="staticForm" class="form-horizontal" role="form" data-ng-controller="createClusterFormCtrl" novalidate>
      <div class="form-group" data-ng-class="{ 'has-error' : (staticForm.name.$invalid && !staticForm.name.$pristine) ||
                  (staticForm.message_error_info.name && staticForm.name.$pristine)}">
        <label class="col-md-2 control-label required">集群名称</label>
        <div class="col-md-8">
          <input type="text" class="form-control" name="name" data-ng-model="form.name" data-required="required" data-name-repaet-validator />
          <p data-ng-show="staticForm.name.$error.required && !staticForm.name.$pristine" class="help-block">集群名不能为空</p>
          <p data-ng-show="staticForm.name.$error.nameRepaetValidator" class="help-block">集群名已存在</p>
          <p data-ng-show="staticForm.name.$pristine" class="help-block">{/ staticForm.message_error_info["name"] /}</p>
        </div>
      </div>
      
      <!-- 选择集群 -->
    <div class="form-group">
        <label class="col-md-2 control-label">
            选择组
        </label>
        <div class="col-md-5">
            <select class="form-control"
                    data-ng-model="form.groupId"
                    data-ng-options="group.id as group.name for group in groups"
                    >
                <option value="">无</option>
            </select>
        </div>
    </div>

      <div class="form-group">
        <label class="col-md-2 control-label">集群规模</label>
        <div class="col-md-8">
          <div data-toggle="buttons" class="btn-radios">
            <div class="btn btn-default active" data-ng-click="form.clusterType='1_master'">
              <input type="radio" name="clusterType" autocomplete="off" value="1_master" data-ng-model="form.clusterType">
              <h2>初级版</h2>
              <p>1 Master，<br>开发环境使用，<br>适合6台主机以内使用。</p>
            </div>
            <div class="btn btn-default" data-ng-click="form.clusterType='3_masters'">
              <input type="radio" name="clusterType" autocomplete="off" value="3_masters" data-ng-model="form.clusterType">
              <h2>高级版</h2>
              <p>3 Masters，<br>基础生产环境使用，<br>适合30台主机以内使用。</p>
            </div>
            <div class="btn btn-default" data-ng-click="form.clusterType='5_masters'">
              <input type="radio" name="clusterType" autocomplete="off" value="5_masters" data-ng-model="form.clusterType">
              <h2>企业版</h2>
              <p>5 Masters，<br>高容错级生产环境使用，<br>适合30台主机以上使用。</p>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group form-btnbar-b">
        <div class="col-sm-offset-2 col-md-10">
          <button class="btn btn-primary" data-ng-click="createCluster()"  data-ng-disabled="staticForm.$invalid" data-demo-disable>完成</button>
          <button class="btn btn-default" data-ng-click="createCluster(true)"  data-ng-disabled="staticForm.$invalid" data-demo-disable>完成并添加主机</button>
        </div>
      </div>
    </form>
  </div>
</div>
</section>
