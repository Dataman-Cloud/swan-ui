
<section class="main-section" id="content">
        <header layout="row" layout-align="end start">
          <div class="info" flex>
           <h2>{/ node.name /}</h2>
           <dl>
            <dt>主机类型</dt>
            <dd>{/node.role/}</dd>
            <dt>主机状态</dt>
            <dd>
                <i class="{/nodeStatusCls[statusMgr.nodes[node.id].status]/}" aria-hidden="true"></i>
                <md-tooltip md-direction="top">
                {/statName[statusMgr.nodes[node.id].status]/}
                </md-tooltip>
            </dd>
            <dt>IP 地址</dt>
            <dd>{/ node.ip /}</dd>
            <dt>CPU</dt>
            <dd>{/ nodeInfo.cpuNumber/}<span data-ng-show="nodeInfo.cpuNumber!=='未知'" data-ng-if="nodeInfo.cpuNumber">核</span></dd>
            <dt>内存</dt>
            <dd>{/ unitConversion.convertMem(nodeInfo.memTotal).num /}{/unitConversion.convertMem(nodeInfo.memTotal).unit/}</dd>
          </dl>
          <dl>
            <dt>所属集群</dt>
            <dd><a data-ui-sref="cluster.detail.nodes({clusterId:node.cluster.id})">{/ node.cluster.name /}</a></dd>
            <dt>系统版本</dt>
            <dd>{/ nodeInfo.osVersion /}</dd>
            <dt>Agent 版本</dt>
            <dd>{/ nodeInfo.agentVersion /}</dd>
          </dl>
          <dl>
            <dt>创建时间</dt>
            <dd>{/ node.created_at /}</dd>
            <dt>更新时间</dt>
            <dd>{/ node.updated_at /}</dd>
          </dl>
          <dl data-ng-if="selectedLabels && selectedLabels.length>0">
            <dt>主机标签</dt>
            <dd>
                <span data-ng-repeat="label in selectedLabels" class="node-label">{/label.name/}</span>
            </dd>
          </dl>
        </div>
        <div layout-align="end center" class="operation">
         <md-button class="md-fab md-mini" aria-label="编辑主机" data-ui-sref="cluster.updatenode({nodeId: node.id, clusterId: node.cluster.id, name: node.name})"
                data-demo-disable
                data-dm-permit-click="1" 
                data-dm-role="node.cluster.group_role"
                data-dm-permit-msg="FRONTEND_MSG.no_group_admin">
            <i class="fa fa-pencil" aria-hidden="true"></i>
            <md-tooltip md-direction="top">
                编辑主机
            </md-tooltip>
        </md-button>
       <md-button class="md-fab md-mini" aria-label="删除主机" data-ng-click="deleNode(node.id, $event)"
                data-demo-disable
                data-dm-permit-click="1" 
                data-dm-role="node.cluster.group_role"
                data-dm-permit-msg="FRONTEND_MSG.no_group_admin">
       <i class="fa fa-trash-o" aria-hidden="true"></i>
       <md-tooltip md-direction="top">
              删除主机
       </md-tooltip>
      </md-button>
         <md-button class="md-fab md-mini" aria-label="上一台主机" data-ng-click="goPreNode()" data-ng-disabled="disablePreNav">
       <i class="fa fa-angle-left" aria-hidden="true"></i>
       <md-tooltip md-direction="top">
              上一台主机
       </md-tooltip>
      </md-button>
       <md-button class="md-fab md-mini" aria-label="下一台主机" data-ng-click="goNextNode()" data-ng-disabled="disableNextNav">
       <i class="fa fa-angle-right" aria-hidden="true"></i>
       <md-tooltip md-direction="top">
              下一台主机
       </md-tooltip>
      </md-button>
      </div>
      </header>
    <!--点击加载更多组件-->
<div class="homepage_bottom main-content">
    <div class="homepage_module" id="homepage_module" data-ng-class="{showDropDown: showMore}">
        <ul layout="row" layout-align="start start" layout-wrap>
            <li flex="10" data-ng-repeat = "service in services">
                <span class="{/serviceStatusCls[statusMgr.nodes[node.id].services[service].status || 'uninstalled']/}">
                <md-tooltip md-direction="top">
                    {/serviceStatName[statusMgr.nodes[node.id].services[service].status || 'uninstalled']/}
                </md-tooltip>
                    <button class="btn"
                            data-ng-show="statusMgr.nodes[node.id].status!=='terminated'"
                            data-ng-click="repairService(service, 'restart')" data-demo-disable
                            data-dm-permit-click="1"
                            data-dm-role="node.cluster.group_role"

                            data-dm-permit-msg="FRONTEND_MSG.no_group_admin" data-ng-if="service === 'docker'">重启</button>
                    <md-menu data-ng-if="service !== 'docker' && statusMgr.nodes[node.id].services[service].status=='failed' &&
                        ['running', 'failed', 'abnormal'].indexOf(statusMgr.nodes[node.id].status) >= 0">
                        <button class="btn" aria-label="More" ng-click="$mdOpenMenu($event)"
                                data-demo-disable
                                data-dm-permit-click="1"
                                data-dm-role="node.cluster.group_role"
                                data-dm-permit-msg="FRONTEND_MSG.no_group_admin">
                            修复
                        </button>
                        <md-menu-content>
                            <md-menu-item>
                                <md-button data-ng-click="repairService(service, 'restart')">重启</md-button>
                            </md-menu-item>
                            <md-menu-item>
                                <md-button data-ng-click="repairService(service, 'reset')">重置</md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </span>
                <h5>{/getServiceLabel(service)/}</h5>
                <p>{/statusMgr.nodes[node.id].services[service].version/}</p>
            </li>
        </ul>
    </div>
    <div class="btn-folding-v" data-ng-show="services.length > 10">
        <a href="#"><i class="fa" data-ng-class="{'fa-chevron-down': !showMore, 'fa-chevron-up': showMore }" data-ng-click="showMore = !showMore"></i></a>
    </div>
    <div layout="row" layout-align="start start" layout-margin class="homepage_view">
        <div flex layout-padding><div id="node-cpu-chart"></div></div>
        <div flex flex-offset="5" layout-padding><div id="node-memory-chart"></div></div>
    </div>
    <div layout="row" layout-align="start start" layout-margin  class="homepage_view">
        <div flex layout-padding><div id="node-disk-chart"></div></div>
        <div flex flex-offset="5" layout-padding><div id="node-diskio-chart"></div></div>
    </div>
    <div layout="row" layout-align="start start" layout-margin class="homepage_view">
        <div flex layout-padding><div id="node-netio-chart"></div></div>
    </div>
</div>
</div>
</section>
