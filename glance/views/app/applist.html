<div class="page-header">
    <h1>应用管理</h1>
    <small>应用管理功能主要负责部署应用和管理应用的生命周期。<br>可以添加、删除、启动、停止应用，还可以弹性扩展应用实例数量。<br><a href="http://doc.shurenyun.com/practice/wordpress.html" target="_blank">如何搭建 Wordpress 个人博客</a> </small>
    <a data-ui-sref="app.createapp" class="btn btn-success">新建应用</a>
</div>
<section>
    <div class="main-container">
        <div class="main-container-body">
		<table class="table table-striped">
            <thead>
                <tr>
                    <th>应用名称</th>
                    <th>当前状态</th>
                    <th>最后更新时间</th>
                    <th>所属集群</th>
                    <th>容器个数</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="app in contentCurPage">
                    <td><a href="#" data-ui-sref="app.appdetail.config({appId:app.appId})">{/app.appName/}</a></td>
                    <td>{/appstate[app.appStatus]/}</td>
                    <td>{/app.update | date:"yyyy-MM-dd HH:mm:ss"/}</td>
                    <td><a href="#" data-ui-sref="cluster.clusterdetails.nodes({clusterId:app.clusterId})">{/clusterNameMap[app.clusterId]/}</a></td>
                    <td>{/app.containerNum/}</td>
                    <td>
                        <button type="button" data-ng-disabled="app.appType == '2' || app.appStatus == '1' || app.appStatus=='3' || app.appStatus=='4'|| app.appStatus=='5' || !app.appStatus"  data-ng-click="upContainNum(app.appId, app.containerNum, app.appName)" class="btn btn-default btn-xs">扩展</button>
                        <button type="button" data-ng-disabled="app.appStatus == '1' || app.appStatus=='3' || app.appStatus=='4'|| app.appStatus=='5' || !app.appStatus" class="btn btn-default btn-xs" 
                            data-ng-click="stopApp(app.appId, app.appName)" data-ng-show="app.appStatus!='3'">停止</button>
                        <button type="button" data-ng-disabled="app.appStatus == '1' || app.appStatus=='2' || app.appStatus=='4'|| app.appStatus=='5' || !app.appStatus" class="btn btn-default btn-xs" 
                            data-ng-click="startApp(app.appId, app.appName)" data-ng-show="app.appStatus == '3'">启动</button>
                        <button type="button" data-ng-disabled="app.appStatus == '5' || !app.appStatus" data-ng-click="deleteApp(app.appId, app.appName)" class="btn btn-default btn-xs">删除</button>
                    </td>
                </tr>
            </tbody>
        </table>
	</div>

        <uib-pagination total-items="totalItems" items-per-page="10" ng-model="currentPage" ng-change="pageChanged()" data-ng-show="showPagination" previous-text="上一页" next-text="下一页"></uib-pagination>

    </div>
</section>
