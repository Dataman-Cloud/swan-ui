<div class="main-container app-layout">
    <section class="main-section">
        <header layout="row" layout-align="end start">
            <div class="info" flex>
                <h2>新建日志告警策略</h2>
            </div>
            <div layout-align="end center" class="operation">
                <md-button class="md-fab md-mini" aria-label="部署最新镜像">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                </md-button>
            </div>
        </header>
        <div class="main-content">
            <form name="logwarningForm">
                <div layout="row" layout-align="end start" class="form-group form-group-input"
                     data-ng-if="createLogWarningCtrl.target === 'update'">
                    <label flex="15">应用名称</label>
                    <div flex="50" layout="column">
                        <div flex>
                            <input type="text" class="form-input" aria-label="updateapp"
                                   data-ng-model="createLogWarningCtrl.form.appname" data-ng-disabled="true">
                        </div>
                    </div>
                    <div flex></div>
                </div>

                <div layout="row" layout-align="end start" class="form-group form-group-select"
                     data-ng-if="createLogWarningCtrl.target === 'create'">
                    <label flex="15">应用名称</label>
                    <div flex="50" layout="column">
                        <div flex="none">
                            <md-select data-ng-model="createLogWarningCtrl.app"
                                       data-required="required" aria-label="createapp"
                                       md-on-open="createLogWarningCtrl.getAppList()">
                                <md-option ng-repeat="app in createLogWarningCtrl.apps" ng-value="app">{/app.name/}</md-option>
                            </md-select>
                        </div>
                    </div>
                    <div flex></div>
                </div>

                <div layout="row" layout-align="end start" class="form-group form-group-input">
                    <label flex="15">监控关键字</label>
                    <div flex="50" layout="column">
                        <div flex="none">
                            <input type="text" class="form-input" name="keyword"
                                   placeholder="多个关键字用 , 分隔"
                                   data-ng-model="createLogWarningCtrl.form.keyword"
                                   data-required="required">
                        </div>
                    </div>
                    <div flex></div>
                </div>
                <div layout="row" layout-align="end start" class="form-group form-group-input">
                    <label flex="15">监控周期</label>
                    <div flex="50" layout="column">
                        <div flex>
                            <input type="number" class="form-input" name="interval"
                                   data-ng-model="createLogWarningCtrl.form.interval"
                                   data-required="required" integer
                                   max="255" min="1">
                        </div>
                        <p class="error-info help-info-bottom"
                           data-ng-show="logwarningForm.interval.$error.max && !logwarningForm.interval.$pristine">
                            <small>最大值不得超过 255</small>
                        </p>
                        <p class="error-info help-info-bottom"
                           data-ng-show="logwarningForm.interval.$error.min && !logwarningForm.interval.$pristine">
                            <small>最小值不得低于 1</small>
                        </p>
                    </div>
                    <div flex><span class="form-input-addon">分钟</span></div>
                    <div flex></div>
                </div>

                <div layout="row" layout-align="end start" class="form-group form-group-input">
                    <label flex="15">出现次数</label>
                    <div flex="50" layout="column">
                        <div flex="25">
                            <input type="number" class="form-input" name="gtnum"
                                   data-ng-model="createLogWarningCtrl.form.gtnum" min="0" integer
                                   data-required="required">
                        </div>
                    </div>
                    <div flex><span class="form-input-addon">次数</span></div>
                    <div flex></div>
                </div>

                <div layout="row" layout-align="end start" class="form-group form-group-input">
                    <label flex="15">告警联系人</label>
                    <div flex="50" layout="column">
                        <div flex="none">
                            <input type="text" class="form-input" name="emails"
                                   data-required="required" data-ng-model="createLogWarningCtrl.form.emails">
                        </div>
                        <p class="help-info-bottom">mail1@123.com, mail2@123.com, ...</p>
                    </div>
                    <div flex></div>
                </div>

                <div layout="row" class="form-footer-button">
                    <div flex-offset="15" layout="row" layout-align="end end">
                        <md-button class="md-raised md-primary"
                                   data-ng-if="createLogWarningCtrl.target === 'create'"
                                   data-ng-click="createLogWarningCtrl.submit()"
                                   data-ng-disabled="logwarningForm.$invalid">创 建</md-button>
                        <md-button class="md-raised md-primary"
                                   data-ng-if="createLogWarningCtrl.target === 'update'"
                                   data-ng-click="createLogWarningCtrl.submit()"
                                   data-ng-disabled="logwarningForm.$invalid">更 新</md-button>
                    </div>
                </div>
            </form>
        </div>

        <footer></footer>
        <section>
        </section>
    </section>
</div>