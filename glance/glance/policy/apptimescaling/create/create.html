<div class="page-header">
    <div>
        <h1 class="pull-left">新建定时策略</h1>
    </div>
</div>
<section>
    <div class="main-container">
        <div class="main-container-body">
            <form class="form-horizontal" name="scalingForm">
                <div class="form-group">
                    <label class="col-md-2 control-label">应用名称</label>
                    <div class="col-md-5">
                        <select class="form-control"
                                data-ng-options="app as app.name for app in createScalingCtrl.apps"
                                data-ng-model="createScalingCtrl.selectApp"
                                data-required="required">
                            <option value="">---请选择应用---</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label">开始时间</label>
                    <div class="col-md-7">
                        <datetimepicker
                                min-date="minDate" hour-step="hourStep"
                                minute-step="minuteStep" ng-model="createScalingCtrl.form.started"
                                show-meridian="createScalingCtrl.showMeridian"
                                date-format="yyyy-MM-dd" date-options="createScalingCtrl.dateOptions"
                                readonly-date="false"
                                show-spinners="false"
                                readonly-time="false"
                                current-text="今天"
                                clear-text="清除"
                                close-text="关闭"
                                mousewheel="false"
                                data-required="required">
                        </datetimepicker>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label">循环周期</label>

                    <div class="col-md-2"  data-ng-class="{ 'has-error' : scalingForm.duration.$invalid && !scalingForm.duration.$pristine }">
                        <input type="number" class="form-control" name="duration" placeholder="周期"
                               data-ng-model="createScalingCtrl.form.duration" min="1">
                    </div>

                    <div class="col-md-1">
                        <select class="form-control" data-ng-model="createScalingCtrl.form.durationType"
                                data-ng-options="cycle.label as cycle.name for cycle in createScalingCtrl.selectCycle">
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label">循环次数</label>
                    <div class="col-md-2" data-ng-class="{ 'has-error' : scalingForm.times.$invalid && !scalingForm.times.$pristine }">
                        <input type="number" class="form-control" name="times" placeholder="次数"
                               data-ng-model="createScalingCtrl.form.times" min="1"
                               data-required="required">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label">实例个数</label>
                    <div class="col-md-2" data-ng-class="{ 'has-error' : scalingForm.instance.$invalid && !scalingForm.instance.$pristine }">
                        <input type="number" class="form-control" name="instance"
                               data-ng-model="createScalingCtrl.form.instance" min="1"
                               data-required="required">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-5">
                        <button type="submit" class="btn btn-primary btn-block"
                                data-ng-click="createScalingCtrl.create()"
                                data-ng-disabled="scalingForm.$invalid">创 建
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>